<!DOCTYPE html>
<html>
<head>
  <title>ส่งข้อความ</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="flex items-center justify-center h-screen bg-gray-100">
  <button id="sendButton" class="bg-green-500 text-white px-6 py-3 rounded shadow hover:bg-green-600">
     "สวัสดี"
  </button>

  <script>
    window.onload = function () {
      // 🔧 ใส่ LIFF ID ของคุณตรงนี้
      liff.init({ liffId: "2007784262-rOz1v0Jd" }, () => {
        if (!liff.isLoggedIn()) {
          liff.login();
        }

        // เมื่อคลิกปุ่มส่งข้อความ
        document.getElementById("sendButton").addEventListener("click", function () {
          liff.sendMessages([
            {
              type: "text",
              text: "สวัสดี"
            }
          ]).then(() => {
            alert("ส่งข้อความเรียบร้อยแล้ว!");
            liff.closeWindow(); // ปิด LIFF หลังส่ง (เลือกใส่หรือไม่ก็ได้)
          }).catch(err => {
            console.error("ส่งข้อความล้มเหลว", err);
          });
        });
      }, err => {
        console.error("LIFF init ผิดพลาด", err);
      });
    };
  </script>
</body>
</html>
